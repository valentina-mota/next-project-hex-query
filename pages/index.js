import Head from "next/head";
import Cursor from "../components/Cursor";
import { useEffect, useRef } from "react";



export default function Home() {
  
  const lampadeSinistraRef = useRef(null);
  const lampadeDestraRef = useRef(null);
  const illustrationContainerRef = useRef(null)
  const frameContainerRef = useRef(null);
  const ravenRef = useRef(null);
  const buttonLinkRef = useRef(null)

  const handleButtonClick = (event) => {
    const audio = new Audio(
      "https://valentinam33.sg-host.com/wp-content/uploads/2024/11/click-sound.mp3"
    );
    audio.currentTime = 0;
    audio.play();
   if (buttonLinkRef.current) {
     buttonLinkRef.current.classList.add("button-clicked");
     console.log("button clicked");
   }

  };

  useEffect(() => {
      if (illustrationContainerRef.current) {
        illustrationContainerRef.current.style.backgroundImage = "linear-gradient(360deg, #fffada 60%, #fffada 20%, rgb(137, 97, 22));";
      }
      if (lampadeSinistraRef.current) {
        lampadeSinistraRef.current.classList.add("animate");
      }
    if (lampadeDestraRef.current) {
      lampadeDestraRef.current.classList.add("animate");
    }
    if (frameContainerRef.current) {
      frameContainerRef.current.classList.add("animate");
    }
    if (ravenRef.current) {
      ravenRef.current.classList.add("animate");
    }

    const resetAudio = () => {
      const audio = new Audio("/audio/click-sound.mp3");
      audio.load(); // Forza il reset dell'audio
    };

    window.addEventListener("pageshow", resetAudio);

    // Cleanup per evitare memory leaks
    
    return () => {
      window.removeEventListener("pageshow", resetAudio);
    };

  }, []);

  return (
    <main id="main-home">
      <Head>
        <title>HexQuery | Homepage</title>
        <meta
          name="description"
          content="Welcome to the HexQuery homepage, powered by Next.js and Headless WordPress."
        />

        <link
          rel="icon"
          href="https://valentinam33.sg-host.com/wp-content/uploads/2024/11/favicon.ico"
        ></link>
        <link
          rel="apple-touch-icon"
          sizes="180x180"
          href="https://valentinam33.sg-host.com/wp-content/uploads/2024/11/apple-touch-icon.png"
        ></link>
        <link
          rel="icon"
          type="image/png"
          sizes="32x32"
          href="https://valentinam33.sg-host.com/wp-content/uploads/2024/11/favicon-32x32-1.png"
        ></link>
        <link
          rel="icon"
          type="image/png"
          sizes="16x16"
          href="https://valentinam33.sg-host.com/wp-content/uploads/2024/11/favicon-16x16-1.png"
        ></link>
        <link
          rel="icon"
          type="image/png"
          sizes="192x192"
          href="https://valentinam33.sg-host.com/wp-content/uploads/2024/11/android-chrome-192x192-1.png"
        ></link>
        <link
          rel="icon"
          type="image/png"
          sizes="512x512"
          href="https://valentinam33.sg-host.com/wp-content/uploads/2024/11/android-chrome-512x512-1.png"
        ></link>
        <link rel="manifest" href="/site.webmanifest"></link>
      </Head>
      <div ref={illustrationContainerRef} className="illustration-container">
        <Cursor />
        <img
          ref={lampadeSinistraRef}
          className="lampade-sinistra"
          src="https://valentinam33.sg-host.com/wp-content/uploads/2024/11/lampade-sinistra_800.png"
          alt=""
        />

        <img
          ref={lampadeDestraRef}
          className="lampade-destra"
          src="https://valentinam33.sg-host.com/wp-content/uploads/2024/11/lampade-destra_800.png"
          alt=""
        />

        <div ref={frameContainerRef} className="frame-container">
          <div className="hex-query-title">
            <svg
              id="title-svg"
              viewBox="0 0 345 65"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="M41.5473 1.87119V48H37.2639V1.87119H41.5473ZM10.3115 1.87119V48H6.02807V1.87119H10.3115ZM37.8569 24.2107V26.1877H9.65247V24.2107H37.8569ZM6.22576 43.1894V48H0.953898V47.341C0.953898 47.341 1.08569 47.341 1.34929 47.341C1.65681 47.341 1.81058 47.341 1.81058 47.341C2.95281 47.341 3.91932 46.9456 4.7101 46.1548C5.54481 45.3201 5.98414 44.3317 6.02807 43.1894H6.22576ZM6.22576 6.68176H6.02807C5.98414 5.53953 5.54481 4.57302 4.7101 3.78224C3.91932 2.94753 2.95281 2.53017 1.81058 2.53017C1.81058 2.53017 1.65681 2.53017 1.34929 2.53017C1.08569 2.53017 0.953898 2.53017 0.953898 2.53017V1.87119H6.22576V6.68176ZM10.1138 43.1894H10.3115C10.3554 44.3317 10.7727 45.3201 11.5635 46.1548C12.3982 46.9456 13.3867 47.341 14.5289 47.341C14.5289 47.341 14.6607 47.341 14.9243 47.341C15.1879 47.341 15.3417 47.341 15.3856 47.341V48H10.1138V43.1894ZM10.1138 6.68176V1.87119H15.3856V2.53017C15.3417 2.53017 15.1879 2.53017 14.9243 2.53017C14.6607 2.53017 14.5289 2.53017 14.5289 2.53017C13.3867 2.53017 12.3982 2.94753 11.5635 3.78224C10.7727 4.57302 10.3554 5.53953 10.3115 6.68176H10.1138ZM37.4616 43.1894V48H32.1897V47.341C32.2336 47.341 32.3874 47.341 32.651 47.341C32.9146 47.341 33.0464 47.341 33.0464 47.341C34.1886 47.341 35.1771 46.9456 36.0118 46.1548C36.8465 45.3201 37.2639 44.3317 37.2639 43.1894H37.4616ZM37.4616 6.68176H37.2639C37.2639 5.53953 36.8465 4.57302 36.0118 3.78224C35.1771 2.94753 34.1886 2.53017 33.0464 2.53017C33.0464 2.53017 32.9146 2.53017 32.651 2.53017C32.3874 2.53017 32.2336 2.53017 32.1897 2.53017V1.87119H37.4616V6.68176ZM41.3496 43.1894H41.5473C41.5912 44.3317 42.0085 45.3201 42.7993 46.1548C43.634 46.9456 44.6225 47.341 45.7647 47.341C45.7647 47.341 45.8965 47.341 46.1601 47.341C46.4677 47.341 46.6214 47.341 46.6214 47.341V48H41.3496V43.1894ZM41.3496 6.68176V1.87119H46.6214V2.53017C46.6214 2.53017 46.4677 2.53017 46.1601 2.53017C45.8965 2.53017 45.7647 2.53017 45.7647 2.53017C44.6225 2.53017 43.634 2.94753 42.7993 3.78224C42.0085 4.57302 41.5912 5.53953 41.5473 6.68176H41.3496ZM62.228 8.46102V48H58.0105V8.46102H62.228ZM79.9546 45.9572L79.8228 48H62.0962V45.9572H79.9546ZM76.8574 27.242V29.219H62.0962V27.242H76.8574ZM79.8887 8.46102V10.5039H62.0962V8.46102H79.8887ZM83.6449 38.5765L80.0205 48H70.004L72.2445 45.9572C74.4411 45.9572 76.1984 45.6496 77.5164 45.0346C78.8783 44.3756 79.9766 43.4969 80.8113 42.3986C81.646 41.2564 82.3709 39.9824 82.986 38.5765H83.6449ZM76.8574 29.0872V32.8434H76.1325V31.9867C76.1325 31.2399 75.9129 30.6028 75.4735 30.0757C75.0342 29.5045 74.3533 29.219 73.4307 29.219V29.0872H76.8574ZM76.8574 23.6176V27.3738H73.4307V27.242C74.3533 27.242 75.0342 26.9784 75.4735 26.4513C75.9129 25.8801 76.1325 25.2212 76.1325 24.4743V23.6176H76.8574ZM79.8887 10.3062V14.8532H79.1639V13.8647C79.1639 12.9421 78.8563 12.1513 78.2413 11.4923C77.6702 10.8334 76.8794 10.5039 75.8689 10.5039V10.3062H79.8887ZM79.8887 7.40664V9.12L72.3763 8.46102C73.7382 8.46102 75.188 8.35119 76.7256 8.13153C78.2632 7.86793 79.3176 7.62631 79.8887 7.40664ZM58.1423 43.7825L58.999 48H53.2658V47.341C53.2658 47.341 53.4196 47.341 53.7271 47.341C54.0346 47.341 54.1884 47.341 54.1884 47.341C55.2867 47.341 56.1873 46.9896 56.8902 46.2866C57.5931 45.5837 57.9666 44.749 58.0105 43.7825H58.1423ZM58.1423 12.6126H58.0105C57.9666 11.6022 57.5931 10.7675 56.8902 10.1085C56.1873 9.44949 55.2867 9.12 54.1884 9.12C54.1884 9.12 54.0346 9.12 53.7271 9.12C53.4196 9.12 53.2658 9.12 53.2658 9.12V8.46102H58.999L58.1423 12.6126ZM95.6317 8.52692L123.111 47.9341H117.774L90.4258 8.52692H95.6317ZM96.2907 43.7825C95.7196 44.6172 95.7196 45.43 96.2907 46.2207C96.9058 46.9676 97.6306 47.341 98.4654 47.341C98.4654 47.341 98.5972 47.341 98.8607 47.341C99.1243 47.341 99.2561 47.341 99.2561 47.341V48H84.8903V47.341H85.747C87.065 47.341 88.2731 47.0115 89.3714 46.3525C90.4697 45.6496 91.3703 44.8588 92.0732 43.9802L96.2907 43.7825ZM105.121 27.3738L106.439 30.0757L93.1935 47.9341H89.0419L105.121 27.3738ZM114.94 43.8484L120.344 44.0461C121.003 44.8808 121.903 45.6496 123.045 46.3525C124.188 47.0115 125.418 47.341 126.736 47.341H127.592V48H111.975V47.341C111.975 47.341 112.106 47.341 112.37 47.341C112.633 47.341 112.765 47.341 112.765 47.341C113.644 47.341 114.347 46.9676 114.874 46.2207C115.445 45.43 115.467 44.6392 114.94 43.8484ZM101.431 8.46102V9.12C101.431 9.12 101.299 9.12 101.035 9.12C100.772 9.12 100.64 9.12 100.64 9.12C99.8053 9.12 99.1024 9.51539 98.5313 10.3062C97.9601 11.053 97.9382 11.8218 98.4654 12.6126L93.1935 12.4149C92.5345 11.5363 91.6339 10.7675 90.4917 10.1085C89.3494 9.44949 88.1193 9.12 86.8014 9.12H85.9447V8.46102H101.431ZM122.057 8.52692L108.021 28.0328L106.373 25.2651L117.576 8.52692H122.057ZM126.472 8.46102V9.12H125.55C124.232 9.12 123.001 9.44949 121.859 10.1085C120.761 10.7675 119.882 11.5582 119.223 12.4808L114.808 12.6785C115.335 11.8438 115.313 11.053 114.742 10.3062C114.215 9.51539 113.512 9.12 112.633 9.12C112.633 9.12 112.502 9.12 112.238 9.12C111.975 9.12 111.843 9.12 111.843 9.12V8.46102H126.472ZM153.752 48.9226L154.411 47.2092C155.202 47.2092 156.235 47.363 157.509 47.6705C158.827 47.978 160.342 48.3954 162.056 48.9226C163.769 49.4937 165.658 50.1746 167.723 50.9654C169.832 51.7562 172.072 52.6348 174.445 53.6014C176.817 54.5679 179.321 55.6222 181.957 56.7645C184.417 57.8188 187.075 58.5877 189.931 59.0709C192.83 59.5981 195.752 59.7738 198.695 59.5981C201.639 59.4224 204.428 58.8293 207.064 57.8188C209.744 56.8523 212.094 55.4245 214.115 53.5355L214.379 53.8649C214.071 54.6997 213.325 55.7101 212.138 56.8963C210.996 58.1264 209.459 59.2906 207.526 60.3889C205.592 61.5311 203.308 62.4098 200.672 63.0248C198.08 63.6838 195.159 63.8815 191.908 63.6179C188.701 63.3543 185.208 62.4098 181.43 60.7843C179.409 59.9056 177.256 58.8732 174.972 57.6871C172.687 56.5009 170.337 55.3147 167.921 54.1285C165.504 52.9424 163.088 51.866 160.672 50.8995C158.299 49.9769 155.993 49.318 153.752 48.9226ZM154.477 0.948611C159.134 0.948611 163.22 1.95905 166.734 3.97993C170.293 5.95688 173.061 8.74658 175.038 12.349C177.059 15.9515 178.069 20.147 178.069 24.9356C178.069 29.7242 177.059 33.9197 175.038 37.5222C173.061 41.1246 170.293 43.9363 166.734 45.9572C163.176 47.9341 159.09 48.9226 154.477 48.9226C149.821 48.9226 145.713 47.9341 142.154 45.9572C138.596 43.9363 135.806 41.1246 133.785 37.5222C131.808 33.9197 130.82 29.7242 130.82 24.9356C130.82 20.147 131.808 15.9515 133.785 12.349C135.806 8.74658 138.596 5.95688 142.154 3.97993C145.713 1.95905 149.821 0.948611 154.477 0.948611ZM154.477 46.9456C158.212 46.9456 161.463 46.0231 164.23 44.1779C167.042 42.3327 169.217 39.7627 170.754 36.4678C172.336 33.1729 173.127 29.3288 173.127 24.9356C173.127 20.5424 172.336 16.6983 170.754 13.4034C169.217 10.1085 167.042 7.53844 164.23 5.69329C161.463 3.84814 158.212 2.92556 154.477 2.92556C150.743 2.92556 147.47 3.84814 144.659 5.69329C141.847 7.53844 139.65 10.1085 138.069 13.4034C136.531 16.6983 135.762 20.5424 135.762 24.9356C135.762 29.3288 136.553 33.1729 138.135 36.4678C139.716 39.7627 141.913 42.3327 144.724 44.1779C147.536 46.0231 150.787 46.9456 154.477 46.9456ZM193.022 8.46102V33.3706C193.022 37.632 194.099 40.9928 196.251 43.453C198.448 45.9132 201.435 47.1433 205.213 47.1433C209.387 47.1433 212.66 45.9791 215.032 43.6507C217.449 41.3223 218.657 38.1372 218.657 34.0955V8.46102H221.688V34.0955C221.688 38.6644 220.216 42.2888 217.273 44.9687C214.373 47.6046 210.375 48.9226 205.279 48.9226C200.227 48.9226 196.207 47.6046 193.22 44.9687C190.276 42.3327 188.805 38.7303 188.805 34.1614V8.46102H193.022ZM188.937 8.46102V11.9536H188.805C188.761 11.1628 188.431 10.5039 187.816 9.97668C187.245 9.40556 186.52 9.12 185.642 9.12C185.642 9.12 185.466 9.12 185.114 9.12C184.807 9.12 184.653 9.12 184.653 9.12V8.46102H188.937ZM197.174 8.46102V9.12C197.174 9.12 196.998 9.12 196.647 9.12C196.339 9.12 196.185 9.12 196.185 9.12C195.351 9.12 194.604 9.40556 193.945 9.97668C193.33 10.5039 193.022 11.1628 193.022 11.9536H192.89V8.46102H197.174ZM218.788 8.46102V11.9536H218.657C218.657 11.1628 218.349 10.5039 217.734 9.97668C217.119 9.40556 216.372 9.12 215.494 9.12C215.494 9.12 215.318 9.12 214.966 9.12C214.659 9.12 214.505 9.12 214.505 9.12V8.46102H218.788ZM225.84 8.46102V9.12C225.84 9.12 225.664 9.12 225.312 9.12C225.005 9.12 224.851 9.12 224.851 9.12C224.016 9.12 223.292 9.40556 222.676 9.97668C222.061 10.5039 221.732 11.1628 221.688 11.9536H221.556V8.46102H225.84ZM240.745 8.46102V48H236.528V8.46102H240.745ZM258.472 45.9572L258.34 48H240.614V45.9572H258.472ZM255.375 27.242V29.219H240.614V27.242H255.375ZM258.406 8.46102V10.5039H240.614V8.46102H258.406ZM262.162 38.5765L258.538 48H248.521L250.762 45.9572C252.959 45.9572 254.716 45.6496 256.034 45.0346C257.396 44.3756 258.494 43.4969 259.329 42.3986C260.163 41.2564 260.888 39.9824 261.503 38.5765H262.162ZM255.375 29.0872V32.8434H254.65V31.9867C254.65 31.2399 254.43 30.6028 253.991 30.0757C253.552 29.5045 252.871 29.219 251.948 29.219V29.0872H255.375ZM255.375 23.6176V27.3738H251.948V27.242C252.871 27.242 253.552 26.9784 253.991 26.4513C254.43 25.8801 254.65 25.2212 254.65 24.4743V23.6176H255.375ZM258.406 10.3062V14.8532H257.681V13.8647C257.681 12.9421 257.374 12.1513 256.759 11.4923C256.188 10.8334 255.397 10.5039 254.386 10.5039V10.3062H258.406ZM258.406 7.40664V9.12L250.894 8.46102C252.256 8.46102 253.705 8.35119 255.243 8.13153C256.781 7.86793 257.835 7.62631 258.406 7.40664ZM236.66 43.7825L237.516 48H231.783V47.341C231.783 47.341 231.937 47.341 232.245 47.341C232.552 47.341 232.706 47.341 232.706 47.341C233.804 47.341 234.705 46.9896 235.408 46.2866C236.111 45.5837 236.484 44.749 236.528 43.7825H236.66ZM236.66 12.6126H236.528C236.484 11.6022 236.111 10.7675 235.408 10.1085C234.705 9.44949 233.804 9.12 232.706 9.12C232.706 9.12 232.552 9.12 232.245 9.12C231.937 9.12 231.783 9.12 231.783 9.12V8.46102H237.516L236.66 12.6126ZM275.153 8.46102H283.654C285.719 8.46102 287.564 8.70264 289.189 9.1859C290.859 9.66915 292.265 10.3721 293.407 11.2946C294.593 12.2172 295.494 13.3375 296.109 14.6555C296.724 15.9734 297.031 17.4671 297.031 19.1365C297.031 20.9817 296.592 22.6951 295.713 24.2766C294.835 25.8582 293.605 27.1542 292.023 28.1646C290.485 29.1751 288.728 29.7901 286.751 30.0098C287.498 30.3173 288.355 30.9982 289.321 32.0526C290.332 33.107 291.188 34.1394 291.891 35.1498C291.891 35.1498 292.177 35.5452 292.748 36.336C293.319 37.0828 294.044 38.0274 294.923 39.1696C295.845 40.2679 296.746 41.3223 297.624 42.3327C298.547 43.3432 299.382 44.2218 300.129 44.9687C300.919 45.7155 301.754 46.3086 302.633 46.7479C303.555 47.1433 304.61 47.341 305.796 47.341V48H303.753C301.337 48 299.338 47.6925 297.756 47.0774C296.219 46.4624 294.967 45.7155 294 44.8369C293.034 43.9143 292.199 43.0357 291.496 42.2009C291.32 41.9813 290.903 41.4321 290.244 40.5535C289.629 39.6309 288.948 38.6424 288.201 37.5881C287.454 36.5337 286.773 35.5892 286.158 34.7544C285.543 33.8758 285.17 33.3486 285.038 33.1729C284.159 32.0306 283.149 31.0202 282.007 30.1416C280.864 29.219 279.656 28.7577 278.382 28.7577V28.0987C278.382 28.0987 278.734 28.1207 279.437 28.1646C280.139 28.1646 281.04 28.1426 282.138 28.0987C283.368 28.0548 284.599 27.9669 285.829 27.8351C287.059 27.6594 288.201 27.1761 289.255 26.3854C290.354 25.5946 291.21 24.2766 291.825 22.4315C292.001 21.9482 292.133 21.3771 292.221 20.7181C292.309 20.0591 292.331 19.3782 292.287 18.6753C292.243 17.4452 292.001 16.3468 291.562 15.3803C291.166 14.4138 290.573 13.5791 289.783 12.8762C289.036 12.1733 288.135 11.6241 287.081 11.2287C286.026 10.8334 284.84 10.6137 283.522 10.5698C281.457 10.4819 279.656 10.4599 278.119 10.5039C276.581 10.5478 275.812 10.5478 275.812 10.5039C275.812 10.4599 275.746 10.2842 275.614 9.97668C275.527 9.62522 275.417 9.29573 275.285 8.98821C275.197 8.63675 275.153 8.46102 275.153 8.46102ZM275.944 8.46102V48H271.726V8.46102H275.944ZM271.924 43.7825L272.715 48H267.114V47.341C267.114 47.341 267.267 47.341 267.575 47.341C267.882 47.341 268.036 47.341 268.036 47.341C269.09 47.341 269.969 46.9896 270.672 46.2866C271.375 45.5837 271.748 44.749 271.792 43.7825H271.924ZM271.924 12.6126H271.792C271.748 11.6022 271.375 10.7675 270.672 10.1085C269.969 9.44949 269.09 9.12 268.036 9.12C268.036 9.12 267.882 9.12 267.575 9.12C267.267 9.12 267.114 9.12 267.114 9.12V8.46102H272.715L271.924 12.6126ZM275.746 43.7825H275.944C275.988 44.749 276.361 45.5837 277.064 46.2866C277.767 46.9896 278.646 47.341 279.7 47.341C279.7 47.341 279.832 47.341 280.096 47.341C280.403 47.341 280.557 47.341 280.557 47.341L280.623 48H274.955L275.746 43.7825ZM311.663 8.52692L323.854 30.2075L321.152 32.5139L305.93 8.52692H311.663ZM324.843 30.9982V48H320.559V30.9982H324.843ZM335.913 8.52692H340.065L324.381 32.3821L321.943 31.6572L335.913 8.52692ZM333.409 12.6785C333.893 11.7999 333.915 10.9871 333.475 10.2403C333.036 9.49342 332.333 9.12 331.366 9.12C331.366 9.12 331.235 9.12 330.971 9.12C330.707 9.12 330.576 9.12 330.576 9.12V8.46102H344.348V9.12H343.558C342.328 9.12 341.163 9.47146 340.065 10.1744C339.011 10.8334 338.176 11.6022 337.561 12.4808L333.409 12.6785ZM313.969 12.6126L308.368 12.4149C307.665 11.4045 306.786 10.6137 305.732 10.0426C304.722 9.42753 303.579 9.12 302.305 9.12H301.515V8.46102H316.803V9.12C316.803 9.12 316.671 9.12 316.408 9.12C316.144 9.12 316.012 9.12 316.012 9.12C315.046 9.12 314.343 9.51539 313.903 10.3062C313.508 11.053 313.53 11.8218 313.969 12.6126ZM320.757 43.7825V48H315.946V47.341C315.99 47.341 316.122 47.341 316.342 47.341C316.605 47.341 316.737 47.341 316.737 47.341C317.791 47.341 318.67 46.9896 319.373 46.2866C320.12 45.5837 320.515 44.749 320.559 43.7825H320.757ZM324.645 43.7825H324.843C324.886 44.749 325.26 45.5837 325.963 46.2866C326.71 46.9896 327.61 47.341 328.665 47.341C328.665 47.341 328.796 47.341 329.06 47.341C329.324 47.341 329.455 47.341 329.455 47.341V48H324.645V43.7825Z" />
            </svg>
          </div>

          <a
            ref={buttonLinkRef}
            href="/articles"
            className="button-link"
            onClick={handleButtonClick}
          >
            ENTER
          </a>

          <div ref={ravenRef} className="raven"></div>

          <div className="balloon-container">
            <div className="balloon balloon-1"></div>
            <div className="balloon balloon-2"></div>
            <div className="balloon balloon-3"></div>
          </div>
        </div>
      </div>
    </main>
  );
}
